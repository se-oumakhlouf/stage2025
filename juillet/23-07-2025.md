## âœ… TÃ¢ches effectuÃ©es

- Choix de la date de rÃ©union directement depuis l'UI (pas de date fixe dans le back)
	
- AmÃ©lioration de la suppression des objets dans l'UI, l'approche optimiste mise en place permet une navigation et une UI fluide
	- Permet de supprimer le reload complet effectuer precedemment pour les `User.All/NoMeeting` Ã  chaque suppression qui Ã©tait couteux
	
- Variable de rÃ©cupÃ©ration du keycloak depuis un `config.js`
	

---

## ðŸ“š Connaissances acquises

- Pour `10 mailRequest` par minute, on traite `1000 requests` en `~1h`, ce qui est raisonnable pour le moment tant qu'un `meeting` n'est pas organisÃ© la mÃªme journÃ©e dans l'heure
	

---

## ðŸž ProblÃ¨mes rencontrÃ©s

- Changer les `meetings` de couleurs en fonctions du status de leurs `mailRequest` dans le front implique la crÃ©ation de nouvelles mÃ©thodes / modifications des tables pour rÃ©cupÃ©rer les `mailRequest.success`
	
- `src/assets` n'Ã©tait pas inclus dans les `assets` de `angular.json` -> variable de la config pas reconnu
	

---

## ðŸ”œ Ã€ faire demain

- DÃ©couverte `React` pour `EIT`
	

---

## ðŸ§© Notes / Code

```ts
function initializeKeycloak(keycloak: KeycloakService) {  
  return () => keycloak.init({  
    config: {  
      url: (window as any).SSO_URL || 'http://localhost:8080',  
      realm: (window as any).SSO_REALM || 'myrealm',  
      clientId: (window as any).SSO_CLIENT_ID || 'myclient',  
    }  
  });  
}
```

```ts
export function deleteByIdUtils<T extends { id: number }, C>(  
  delete$: Observable<void>,  
  reloads: Array<() => void>,  
  pageProperties: PageProperties<T>,  
  utils: MessageUtils<C>,  
  id: number,  
  errorHandler: ErrorHandlingService,  
): void {  
  
  // suppression optimiste pour dodge le dÃ©lai de call de l'API  
  const backup: T[] = [...pageProperties.container];  
  pageProperties.totalElements--;  
  pageProperties.container = pageProperties.container.filter(item => item.id !== id);  
  //  
  
  delete$.subscribe({  
    next: (res: any) => {  
      const pageIsUnderfilled: boolean = pageProperties.container.length <= 5;  
      if (pageIsUnderfilled) {  
        reloads.forEach(reload => reload());  
      }  
      temporaryMessageUtils(utils, res.message);  
    },  
    error: (err: any) => {  
      pageProperties.isLoading = false;  
      errorHandler.handleError(err.error.message);  
  
      // annule les changements en cas d'erreur  
      pageProperties.container = backup;  
      pageProperties.totalElements++;  
    }  
  })  
}
```

```SQL
create table if not exists MEETINGS  
(  
    ID              serial primary key,  
    -- ...
    MEETING_DATE    timestamp default now(),  
	-- ...
);
```
