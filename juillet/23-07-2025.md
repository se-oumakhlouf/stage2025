## ✅ Tâches effectuées

- Choix de la date de réunion directement depuis l'UI (pas de date fixe dans le back)
	
- Amélioration de la suppression des objets dans l'UI, l'approche optimiste mise en place permet une navigation et une UI fluide
	- Permet de supprimer le reload complet effectuer precedemment pour les `User.All/NoMeeting` à chaque suppression qui était couteux
	
- Variable de récupération du keycloak depuis un `config.js`
	

---

## 📚 Connaissances acquises

- Pour `10 mailRequest` par minute, on traite `1000 requests` en `~1h`, ce qui est raisonnable pour le moment tant qu'un `meeting` n'est pas organisé la même journée dans l'heure
	

---

## 🐞 Problèmes rencontrés

- Changer les `meetings` de couleurs en fonctions du status de leurs `mailRequest` dans le front implique la création de nouvelles méthodes / modifications des tables pour récupérer les `mailRequest.success`
	
- `src/assets` n'était pas inclus dans les `assets` de `angular.json` -> variable de la config pas reconnu
	

---

## 🔜 À faire demain

- Découverte `React` pour `EIT`
	

---

## 🧩 Notes / Code

```ts
function initializeKeycloak(keycloak: KeycloakService) {  
  return () => keycloak.init({  
    config: {  
      url: (window as any).SSO_URL || 'http://localhost:8080',  
      realm: (window as any).SSO_REALM || 'myrealm',  
      clientId: (window as any).SSO_CLIENT_ID || 'myclient',  
    }  
  });  
}
```

```ts
export function deleteByIdUtils<T extends { id: number }, C>(  
  delete$: Observable<void>,  
  reloads: Array<() => void>,  
  pageProperties: PageProperties<T>,  
  utils: MessageUtils<C>,  
  id: number,  
  errorHandler: ErrorHandlingService,  
): void {  
  
  // suppression optimiste pour dodge le délai de call de l'API  
  const backup: T[] = [...pageProperties.container];  
  pageProperties.totalElements--;  
  pageProperties.container = pageProperties.container.filter(item => item.id !== id);  
  //  
  
  delete$.subscribe({  
    next: (res: any) => {  
      const pageIsUnderfilled: boolean = pageProperties.container.length <= 5;  
      if (pageIsUnderfilled) {  
        reloads.forEach(reload => reload());  
      }  
      temporaryMessageUtils(utils, res.message);  
    },  
    error: (err: any) => {  
      pageProperties.isLoading = false;  
      errorHandler.handleError(err.error.message);  
  
      // annule les changements en cas d'erreur  
      pageProperties.container = backup;  
      pageProperties.totalElements++;  
    }  
  })  
}
```

```SQL
create table if not exists MEETINGS  
(  
    ID              serial primary key,  
    -- ...
    MEETING_DATE    timestamp default now(),  
	-- ...
);
```
