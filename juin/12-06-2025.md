## ‚úÖ T√¢ches r√©alis√©es

- Suppression de la base `USERS` et correction du code associ√©
    
- Int√©gration de la lecture du dernier changement de mot de passe directement depuis un attribut dans Active Directory
    
- Cr√©ation d‚Äôun script g√©n√©rant un fichier avec un nombre d√©fini d‚Äôutilisateurs fictifs
    
- Modification du mot de passe et mise √† jour de la date de changement lors de la validation
    
- R√©√©criture des fichiers de tests des services concern√©s
    

---

## üìö Connaissances acquises

- L‚Äôarborescence d‚ÄôActive Directory inclut un attribut indiquant la date du dernier reset de mot de passe, ce qui rend inutile la table `USERS` locale
    

---

## üêû Difficult√©s rencontr√©es

- Compr√©hension complexe et blocage autour de la migration et la configuration avec Samba-AD
    

---

## üîú Prochaines √©tapes

- Poursuivre la r√©solution des probl√®mes li√©s √† Samba-AD
    

---

## üß© Notes / Code

```java
public boolean changePassword(String openldapId, String newPassword) {  
  String dn = uidAttribute + "=" + openldapId;  
  
  Attribute passwordAttr = new BasicAttribute(passwordAttribute, newPassword);  
  String now = LocalDateTime.now().toString();  
  Attribute resetDateAttr = new BasicAttribute(lastResetAttribute, now);  
  
  ModificationItem[] mods = new ModificationItem[] {  
      new ModificationItem(DirContext.REPLACE_ATTRIBUTE, passwordAttr),  
      new ModificationItem(DirContext.REPLACE_ATTRIBUTE, resetDateAttr)  
  };  
  
  try {  
    ldapTemplate.modifyAttributes(dn, mods);  
    return true;  
  } catch (Exception e) {  
    logger.error("Erreur lors du changement de mot de passe pour l'utilisateur avec l'ID LDAP: {}", openldapId, e);  
    return false;  
  }  
}
```
